/*
* Semantic clone benchmark
*  Source code are extracted from Stack Overflow
*  Stack overflow Question #:245742
*  Stack Overflow answer #:245761
*  And Stack Overflow answer#:246431
*/
void foo () {
    if (!doA ())
        goto exit;
    if (!doB ())
        goto cleanupA;
    if (!doC ())
        goto cleanupB;
    return;
cleanupB :
    undoB ();
cleanupA :
    undoA ();
exit :
    return;
}

void foo () {
    bool doAsuccess = doA ();
    bool doBsuccess = doAsuccess && doB ();
    bool doCsuccess = doBsuccess && doC ();
    if (!doCsuccess) {
        if (doBsuccess)
            undoB ();
        if (doAsuccess)
            undoA ();
    }
}

